# Tasks: AI/Spec-Driven Book Creation with Docusaurus

**Input**: Design documents from `specs/4-vla-module/`
**Prerequisites**: plan.md, data-model.md, research.md

## Format: `[ID] [P?] [Story] Description`

- **[P]**: Can run in parallel (different files, no dependencies)
- **[Story]**: Which user story this task belongs to (e.g., US1, US2)

---

## Phase 1: Setup

**Purpose**: Initialize the Docusaurus project structure.

- [X] T001 Create the top-level Docusaurus project structure in `/docusaurus/` using `npx create-docusaurus@latest docusaurus classic`.

---

## Phase 2: User Story 1 - Foundational Site Setup ðŸŽ¯ MVP

**Goal**: Initialize and configure a basic, runnable Docusaurus site with the correct theme, navigation, and metadata.
**Independent Test**: The Docusaurus local development server (`yarn start`) runs successfully, and a placeholder home page is visible in the browser.

### Implementation for User Story 1

- [X] T002 [US1] Install project dependencies by running `yarn install` in `/docusaurus/`.
- [X] T003 [P] [US1] Modify the site metadata (title, tagline, URL, baseUrl) in `/docusaurus/docusaurus.config.js`.
- [X] T004 [P] [US1] Configure the 'classic' theme preset in `/docusaurus/docusaurus.config.js` according to `research.md`.
- [X] T005 [P] [US1] Configure the navigation bar (e.g., links to GitHub) in the themeConfig in `/docusaurus/docusaurus.config.js`.
- [X] T006 [P] [US1] Configure the footer content in the themeConfig in `/docusaurus/docusaurus.config.js`.
- [X] T007 [US1] Configure the docs plugin to use an autogenerated sidebar in `/docusaurus/docusaurus.config.js` as per `research.md`.
- [X] T008 [US1] Create a placeholder index page for the documentation root at `/docusaurus/docs/index.md`.

**Checkpoint**: At this point, User Story 1 is complete. The Docusaurus site should be runnable locally, showing a basic structure and placeholder content.

---

## Phase 3: User Story 2 - Content Integration Pipeline

**Goal**: Create an automated script to synchronize content from the `specs/` directories into the `docusaurus/docs/` directory.
**Independent Test**: After running the script, content from all `specs/` folders appears correctly structured within the `docusaurus/docs/` folder.

### Implementation for User Story 2

- [X] T009 [US2] Create a directory for utility scripts at `/scripts/`.
- [X] T010 [US2] Create a new Node.js script for content synchronization at `/scripts/sync-content.mjs`.
- [X] T011 [US2] Implement logic in `/scripts/sync-content.mjs` to clear the existing `/docusaurus/docs/` directory.
- [X] T012 [US2] Implement logic in `/scripts/sync-content.mjs` to find all feature directories (e.g., `specs/1-ros2-control-module`).
- [X] T013 [US2] Implement logic in `/scripts/sync-content.mjs` to copy relevant markdown files (e.g., `spec.md`, chapter files) from each feature directory into a corresponding subdirectory in `/docusaurus/docs/`.
- [X] T014 [US2] Add a new script command (e.g., `"sync:content": "node ./scripts/sync-content.mjs"`) to the main `package.json`.
- [X] T015 [US2] Run the content sync script to populate the `/docusaurus/docs/` directory for the first time.

**Checkpoint**: At this point, User Story 2 is complete. Content can be automatically synced into the Docusaurus site from the source-of-truth `specs` directories.

---

## Phase 4: User Story 3 - Validation and Deployment

**Goal**: Ensure the site builds correctly and is configured for deployment.
**Independent Test**: The `yarn build` command completes without errors in the `/docusaurus/` directory.

### Implementation for User Story 3

- [X] T016 [P] [US3] Add a `prebuild` script to `docusaurus/package.json` that runs the content sync script from US2.
- [ ] T017 [US3] Run the full build process via `yarn build` in `/docusaurus/` and verify it completes successfully.
- [ ] T018 [P] [US3] Create a GitHub Actions workflow file at `/.github/workflows/deploy-docusaurus.yml`.
- [ ] T019 [US3] Configure the workflow in `/.github/workflows/deploy-docusaurus.yml` to build and deploy the Docusaurus site to GitHub Pages on pushes to the `master` branch.

**Checkpoint**: All user stories are complete. The book is automatically built and deployed on changes.

---

## Phase 5: Polish & Cross-Cutting Concerns

**Purpose**: Final improvements and documentation.

- [ ] T020 [P] Update the project's main `README.md` to include instructions on how to run and build the Docusaurus site.
- [ ] T021 [P] Review all generated pages for broken links or formatting errors.
- [ ] T022 Validate that the deployed site meets the criteria in the project constitution.

---

## Dependencies & Execution Order

- **Setup (Phase 1)**: Must be completed first.
- **US1 (Phase 2)**: Depends on Phase 1. Blocks all other work.
- **US2 (Phase 3)**: Depends on US1.
- **US3 (Phase 4)**: Depends on US2.
- **Polish (Phase 5)**: Depends on all user stories being complete.

Each user story phase should be completed in order, as they build upon each other.